/**
 * Created by ligj on 2016/10/9.
 */
import React, { Component } from 'react';
import {
	Text,
	View,
	TouchableOpacity
} from 'react-native';
import TopBanner from '../../../components/TopBanner';
import MapLine from '../components/mapline/MapLine';
import Env from '../../../utils/Env';
import Toast from '../../../components/Toast';
const estyle = Env.style;
import {queryTrack} from '../../../services/MonitorService';
import DateButtonGroup from '../components/DateButtonGroup';
export default class MonitorMapTrack extends Component {
	constructor() {
		super();
		this.state = {
			data: null
		}
	}
	/*onInit(mapRef) {
		this.mapRef = mapRef;
	}*/
	selectTime(date) {
		this.fetchData(date);
	}

	doBack() {
		console.info('---------------------------doback')

		this.props.nav.doBack();
		//this.props.router.pop();
	}
	fetchData(date) {
/*		let data = {
			points: '[{"_x":115.9538,"_y":28.68291,"_v":0,"_instant_oil":132.19577148575422,"_auto_terminal":1478066251235,"_direction":140},{"_x":115.95385,"_y":28.68287,"_v":1,"_instant_oil":35.8118369178535,"_auto_terminal":1478066281235,"_direction":286},{"_x":115.95385,"_y":28.68273,"_v":2,"_instant_oil":30.18323317855525,"_auto_terminal":1478066311235,"_direction":357},{"_x":115.95412,"_y":28.68273,"_v":3,"_instant_oil":76.63656493898907,"_auto_terminal":1478066341235,"_direction":132},{"_x":115.95416,"_y":28.68268,"_v":4,"_instant_oil":31.582739197544505,"_auto_terminal":1478066371235,"_direction":196},{"_x":115.95414,"_y":28.68259,"_v":5,"_instant_oil":17.88497703454368,"_auto_terminal":1478066401235,"_direction":317},{"_x":115.95404,"_y":28.68247,"_v":6,"_instant_oil":148.2000604599336,"_auto_terminal":1478066431235,"_direction":171},{"_x":115.95384,"_y":28.68239,"_v":7,"_instant_oil":93.56589874643024,"_auto_terminal":1478066461235,"_direction":215},{"_x":115.95343,"_y":28.68248,"_v":8,"_instant_oil":21.933246348703108,"_auto_terminal":1478066491235,"_direction":179},{"_x":115.9534,"_y":28.68228,"_v":9,"_instant_oil":5.221517934453601,"_auto_terminal":1478066521236,"_direction":109},{"_x":115.954,"_y":28.68221,"_v":10,"_instant_oil":158.50585654316754,"_auto_terminal":1478066551236,"_direction":150},{"_x":115.95404,"_y":28.68201,"_v":11,"_instant_oil":30.910140720309887,"_auto_terminal":1478066581236,"_direction":101},{"_x":115.95417,"_y":28.68181,"_v":12,"_instant_oil":50.45583577989148,"_auto_terminal":1478066611236,"_direction":297},{"_x":115.95405,"_y":28.68174,"_v":13,"_instant_oil":179.90267429490623,"_auto_terminal":1478066641236,"_direction":107},{"_x":115.95329,"_y":28.68169,"_v":14,"_instant_oil":186.53558270858147,"_auto_terminal":1478066671236,"_direction":145},{"_x":115.95274,"_y":28.68157,"_v":15,"_instant_oil":115.73631987726358,"_auto_terminal":1478066701236,"_direction":209},{"_x":115.95203,"_y":28.68153,"_v":16,"_instant_oil":136.51076427971972,"_auto_terminal":1478066731236,"_direction":67},{"_x":115.95181,"_y":28.68171,"_v":17,"_instant_oil":15.953959604497703,"_auto_terminal":1478066761236,"_direction":71},{"_x":115.94975,"_y":28.68173,"_v":18,"_instant_oil":67.74238937522964,"_auto_terminal":1478066791236,"_direction":255},{"_x":115.94941,"_y":28.68182,"_v":19,"_instant_oil":84.86814283321613,"_auto_terminal":1478066821236,"_direction":328},{"_x":115.94921,"_y":28.68197,"_v":20,"_instant_oil":168.50472257997478,"_auto_terminal":1478066851236,"_direction":30},{"_x":115.94908,"_y":28.68218,"_v":21,"_instant_oil":28.200597446547746,"_auto_terminal":1478066881236,"_direction":283},{"_x":115.94904,"_y":28.68234,"_v":22,"_instant_oil":118.98455527481953,"_auto_terminal":1478066911236,"_direction":173},{"_x":115.94881,"_y":28.68476,"_v":23,"_instant_oil":136.2651641224256,"_auto_terminal":1478066941236,"_direction":4},{"_x":115.94819,"_y":28.68772,"_v":24,"_instant_oil":140.06539868831644,"_auto_terminal":1478066971236,"_direction":318},{"_x":115.94814,"_y":28.68784,"_v":25,"_instant_oil":10.643897651767853,"_auto_terminal":1478067001236,"_direction":118},{"_x":115.94799,"_y":28.68793,"_v":26,"_instant_oil":104.57924030740746,"_auto_terminal":1478067031236,"_direction":268},{"_x":115.94775,"_y":28.68792,"_v":27,"_instant_oil":92.70876049697398,"_auto_terminal":1478067061236,"_direction":273},{"_x":115.94427,"_y":28.68726,"_v":28,"_instant_oil":71.04980784699771,"_auto_terminal":1478067091236,"_direction":120},{"_x":115.94315,"_y":28.68712,"_v":29,"_instant_oil":72.9992252514572,"_auto_terminal":1478067121236,"_direction":33},{"_x":115.93999,"_y":28.68715,"_v":30,"_instant_oil":166.7308314507048,"_auto_terminal":1478067151236,"_direction":99},{"_x":115.93811,"_y":28.68724,"_v":31,"_instant_oil":100.98037914559264,"_auto_terminal":1478067181236,"_direction":326},{"_x":115.93643,"_y":28.68718,"_v":32,"_instant_oil":112.24489639554265,"_auto_terminal":1478067211236,"_direction":71},{"_x":115.93537,"_y":28.68726,"_v":33,"_instant_oil":65.76952149598894,"_auto_terminal":1478067241236,"_direction":50},{"_x":115.93515,"_y":28.68735,"_v":34,"_instant_oil":58.401644274124905,"_auto_terminal":1478067271236,"_direction":280},{"_x":115.9348,"_y":28.68741,"_v":35,"_instant_oil":171.90278457044928,"_auto_terminal":1478067301236,"_direction":259},{"_x":115.92735,"_y":28.68805,"_v":36,"_instant_oil":160.31818524916542,"_auto_terminal":1478067331236,"_direction":19},{"_x":115.92669,"_y":28.68807,"_v":37,"_instant_oil":181.53275799150316,"_auto_terminal":1478067361236,"_direction":70},{"_x":115.92623,"_y":28.68815,"_v":38,"_instant_oil":92.51564079155403,"_auto_terminal":1478067391236,"_direction":300},{"_x":115.92613,"_y":28.68823,"_v":39,"_instant_oil":111.36949449613343,"_auto_terminal":1478067421236,"_direction":235},{"_x":115.92607,"_y":28.68841,"_v":40,"_instant_oil":8.064745761148329,"_auto_terminal":1478067451236,"_direction":46},{"_x":115.92593,"_y":28.68951,"_v":41,"_instant_oil":63.67135720641088,"_auto_terminal":1478067481236,"_direction":83},{"_x":115.92566,"_y":28.69015,"_v":42,"_instant_oil":102.85359532383072,"_auto_terminal":1478067511236,"_direction":313},{"_x":115.92374,"_y":28.69281,"_v":43,"_instant_oil":62.34388519288019,"_auto_terminal":1478067541236,"_direction":310},{"_x":115.92326,"_y":28.69353,"_v":44,"_instant_oil":74.19781234586269,"_auto_terminal":1478067571236,"_direction":248},{"_x":115.92326,"_y":28.69365,"_v":45,"_instant_oil":154.43242684511688,"_auto_terminal":1478067601236,"_direction":323},{"_x":115.92346,"_y":28.69386,"_v":46,"_instant_oil":195.36273816504797,"_auto_terminal":1478067631236,"_direction":208},{"_x":115.92518,"_y":28.69524,"_v":47,"_instant_oil":111.05549260773846,"_auto_terminal":1478067661236,"_direction":335},{"_x":115.92538,"_y":28.69571,"_v":48,"_instant_oil":74.86879845085892,"_auto_terminal":1478067691236,"_direction":132},{"_x":115.92605,"_y":28.69644,"_v":49,"_instant_oil":154.0066771585486,"_auto_terminal":1478067721236,"_direction":233},{"_x":115.92673,"_y":28.69747,"_v":50,"_instant_oil":15.216889684646429,"_auto_terminal":1478067751236,"_direction":163},{"_x":115.92748,"_y":28.6991,"_v":51,"_instant_oil":183.82858093758182,"_auto_terminal":1478067781236,"_direction":168},{"_x":115.92764,"_y":28.69934,"_v":52,"_instant_oil":110.67635971972992,"_auto_terminal":1478067811236,"_direction":16},{"_x":115.9281,"_y":28.69965,"_v":53,"_instant_oil":105.93464520570275,"_auto_terminal":1478067841236,"_direction":184},{"_x":115.92939,"_y":28.69997,"_v":54,"_instant_oil":165.26871519523246,"_auto_terminal":1478067871236,"_direction":193},{"_x":115.92963,"_y":28.70011,"_v":55,"_instant_oil":4.6660790548388675,"_auto_terminal":1478067901236,"_direction":54},{"_x":115.93103,"_y":28.70238,"_v":56,"_instant_oil":82.88029830226353,"_auto_terminal":1478067931236,"_direction":227},{"_x":115.9314,"_y":28.70311,"_v":57,"_instant_oil":89.41783346739291,"_auto_terminal":1478067961236,"_direction":162},{"_x":115.93197,"_y":28.70396,"_v":58,"_instant_oil":166.46373482121547,"_auto_terminal":1478067991236,"_direction":1},{"_x":115.93209,"_y":28.70421,"_v":59,"_instant_oil":148.40503733416062,"_auto_terminal":1478068021236,"_direction":281},{"_x":115.93216,"_y":28.70447,"_v":60,"_instant_oil":112.85318132079713,"_auto_terminal":1478068051236,"_direction":187},{"_x":115.93227,"_y":28.70541,"_v":61,"_instant_oil":45.00064258394198,"_auto_terminal":1478068081236,"_direction":209},{"_x":115.93222,"_y":28.70563,"_v":62,"_instant_oil":18.25671739599688,"_auto_terminal":1478068111236,"_direction":66},{"_x":115.93098,"_y":28.70557,"_v":63,"_instant_oil":41.48533035538628,"_auto_terminal":1478068141236,"_direction":198},{"_x":115.92855,"_y":28.70556,"_v":64,"_instant_oil":85.56244153284811,"_auto_terminal":1478068171236,"_direction":222},{"_x":115.92789,"_y":28.7055,"_v":65,"_instant_oil":115.07974455481084,"_auto_terminal":1478068201236,"_direction":85},{"_x":115.92781,"_y":28.70543,"_v":66,"_instant_oil":140.6456097377862,"_auto_terminal":1478068231236,"_direction":178},{"_x":115.92778,"_y":28.70531,"_v":67,"_instant_oil":14.217369577734562,"_auto_terminal":1478068261236,"_direction":72},{"_x":115.92781,"_y":28.70488,"_v":68,"_instant_oil":157.85397453969318,"_auto_terminal":1478068291236,"_direction":294},{"_x":115.92777,"_y":28.70416,"_v":69,"_instant_oil":59.233147025287145,"_auto_terminal":1478068321236,"_direction":138},{"_x":115.92786,"_y":28.70325,"_v":70,"_instant_oil":85.47369110903142,"_auto_terminal":1478068351236,"_direction":134},{"_x":115.92787,"_y":28.70191,"_v":71,"_instant_oil":9.84988411876615,"_auto_terminal":1478068381236,"_direction":105},{"_x":115.928,"_y":28.70177,"_v":72,"_instant_oil":115.45734829921979,"_auto_terminal":1478068411236,"_direction":142},{"_x":115.92813,"_y":28.70174,"_v":73,"_instant_oil":146.67131480217378,"_auto_terminal":1478068441236,"_direction":250},{"_x":115.92925,"_y":28.70176,"_v":74,"_instant_oil":31.254224117791107,"_auto_terminal":1478068471236,"_direction":175},{"_x":115.92923,"_y":28.70184,"_v":75,"_instant_oil":56.73716239584836,"_auto_terminal":1478068501236,"_direction":66},{"_x":115.92917,"_y":28.70187,"_v":76,"_instant_oil":71.5914109567636,"_auto_terminal":1478068531236,"_direction":265},{"_x":115.92907,"_y":28.70186,"_v":77,"_instant_oil":137.53314487720846,"_auto_terminal":1478068561236,"_direction":231},{"_x":115.92892,"_y":28.70175,"_v":78,"_instant_oil":109.16489750607829,"_auto_terminal":1478068591236,"_direction":66},{"_x":115.92819,"_y":28.70176,"_v":79,"_instant_oil":83.67626095313963,"_auto_terminal":1478068621236,"_direction":2},{"_x":115.92798,"_y":28.70185,"_v":80,"_instant_oil":11.697996372063413,"_auto_terminal":1478068651236,"_direction":138},{"_x":115.92789,"_y":28.70202,"_v":81,"_instant_oil":122.81461910636105,"_auto_terminal":1478068681236,"_direction":170},{"_x":115.9278,"_y":28.70529,"_v":82,"_instant_oil":112.20005349904403,"_auto_terminal":1478068711236,"_direction":61},{"_x":115.92782,"_y":28.70543,"_v":83,"_instant_oil":53.023803944584856,"_auto_terminal":1478068741236,"_direction":19},{"_x":115.92788,"_y":28.7055,"_v":84,"_instant_oil":173.5218714678873,"_auto_terminal":1478068771236,"_direction":25},{"_x":115.9286,"_y":28.7056,"_v":85,"_instant_oil":54.82061066928154,"_auto_terminal":1478068801236,"_direction":321},{"_x":115.93149,"_y":28.70561,"_v":86,"_instant_oil":108.54454207813716,"_auto_terminal":1478068831236,"_direction":327},{"_x":115.93203,"_y":28.70568,"_v":87,"_instant_oil":15.24296179903839,"_auto_terminal":1478068861236,"_direction":263},{"_x":115.93219,"_y":28.70577,"_v":88,"_instant_oil":41.830037203089134,"_auto_terminal":1478068891236,"_direction":44},{"_x":115.93236,"_y":28.70704,"_v":89,"_instant_oil":143.79212133175895,"_auto_terminal":1478068921236,"_direction":291},{"_x":115.93247,"_y":28.70746,"_v":90,"_instant_oil":67.80987375678617,"_auto_terminal":1478068951236,"_direction":4},{"_x":115.93223,"_y":28.70836,"_v":91,"_instant_oil":85.91316330697745,"_auto_terminal":1478068981236,"_direction":66},{"_x":115.93198,"_y":28.70979,"_v":92,"_instant_oil":105.7372170176591,"_auto_terminal":1478069011236,"_direction":47},{"_x":115.93169,"_y":28.71309,"_v":93,"_instant_oil":112.4711520839675,"_auto_terminal":1478069041236,"_direction":105},{"_x":115.93173,"_y":28.71324,"_v":94,"_instant_oil":145.87686111682038,"_auto_terminal":1478069071236,"_direction":285},{"_x":115.93201,"_y":28.71362,"_v":95,"_instant_oil":157.45832304776593,"_auto_terminal":1478069101236,"_direction":218},{"_x":115.9331,"_y":28.715,"_v":96,"_instant_oil":195.03871442700583,"_auto_terminal":1478069131236,"_direction":295},{"_x":115.93318,"_y":28.71505,"_v":97,"_instant_oil":19.67832466838102,"_auto_terminal":1478069161236,"_direction":108},{"_x":115.9334,"_y":28.71502,"_v":98,"_instant_oil":191.51360394261084,"_auto_terminal":1478069191236,"_direction":81},{"_x":115.93443,"_y":28.71465,"_v":99,"_instant_oil":171.01227166912935,"_auto_terminal":1478069221236,"_direction":35},{"_x":115.93461,"_y":28.71469,"_v":100,"_instant_oil":55.01120126660379,"_auto_terminal":1478069251236,"_direction":99},{"_x":115.93529,"_y":28.7146,"_v":101,"_instant_oil":41.95279714832343,"_auto_terminal":1478069281236,"_direction":124},{"_x":115.93704,"_y":28.71375,"_v":102,"_instant_oil":192.33207362546207,"_auto_terminal":1478069311236,"_direction":74},{"_x":115.93735,"_y":28.71349,"_v":103,"_instant_oil":82.39574771436362,"_auto_terminal":1478069341236,"_direction":236},{"_x":115.93775,"_y":28.71246,"_v":104,"_instant_oil":37.1019795908667,"_auto_terminal":1478069371236,"_direction":119},{"_x":115.93822,"_y":28.71177,"_v":105,"_instant_oil":127.01405352343143,"_auto_terminal":1478069401236,"_direction":220},{"_x":115.93891,"_y":28.71133,"_v":106,"_instant_oil":19.663182394590795,"_auto_terminal":1478069431236,"_direction":330},{"_x":115.9391,"_y":28.71127,"_v":107,"_instant_oil":131.8261678813673,"_auto_terminal":1478069461236,"_direction":112},{"_x":115.93979,"_y":28.71137,"_v":108,"_instant_oil":32.01826785942479,"_auto_terminal":1478069491236,"_direction":158},{"_x":115.9415,"_y":28.71135,"_v":109,"_instant_oil":149.0140325233313,"_auto_terminal":1478069521236,"_direction":342},{"_x":115.94176,"_y":28.71131,"_v":110,"_instant_oil":190.28573644312172,"_auto_terminal":1478069551236,"_direction":278},{"_x":115.94206,"_y":28.71117,"_v":111,"_instant_oil":160.3626251189856,"_auto_terminal":1478069581236,"_direction":146},{"_x":115.94289,"_y":28.71062,"_v":112,"_instant_oil":147.08913887069534,"_auto_terminal":1478069611236,"_direction":195},{"_x":115.94437,"_y":28.70997,"_v":113,"_instant_oil":87.99336849836115,"_auto_terminal":1478069641236,"_direction":143},{"_x":115.94495,"_y":28.70981,"_v":114,"_instant_oil":10.792251580022993,"_auto_terminal":1478069671236,"_direction":342},{"_x":115.94615,"_y":28.70968,"_v":115,"_instant_oil":190.004248890853,"_auto_terminal":1478069701236,"_direction":233},{"_x":115.94643,"_y":28.70959,"_v":116,"_instant_oil":127.60105366527878,"_auto_terminal":1478069731236,"_direction":217},{"_x":115.94666,"_y":28.70937,"_v":117,"_instant_oil":191.43741129190482,"_auto_terminal":1478069761236,"_direction":229},{"_x":115.94691,"_y":28.70874,"_v":118,"_instant_oil":77.82949770723727,"_auto_terminal":1478069791236,"_direction":80},{"_x":115.94704,"_y":28.70858,"_v":119,"_instant_oil":149.5336067159919,"_auto_terminal":1478069821236,"_direction":147},{"_x":115.94953,"_y":28.7086,"_v":120,"_instant_oil":167.41697802002076,"_auto_terminal":1478069851236,"_direction":251},{"_x":115.94982,"_y":28.70853,"_v":121,"_instant_oil":169.8623632714078,"_auto_terminal":1478069881236,"_direction":159},{"_x":115.95007,"_y":28.70834,"_v":122,"_instant_oil":21.66460804564716,"_auto_terminal":1478069911236,"_direction":210},{"_x":115.9503,"_y":28.70807,"_v":123,"_instant_oil":63.6477963811537,"_auto_terminal":1478069941236,"_direction":150},{"_x":115.95057,"_y":28.70756,"_v":124,"_instant_oil":85.21670465276401,"_auto_terminal":1478069971236,"_direction":349},{"_x":115.95068,"_y":28.70723,"_v":125,"_instant_oil":44.08074164114977,"_auto_terminal":1478070001236,"_direction":25},{"_x":115.95074,"_y":28.70637,"_v":126,"_instant_oil":119.1434798642912,"_auto_terminal":1478070031236,"_direction":131},{"_x":115.95017,"_y":28.70181,"_v":127,"_instant_oil":51.87221846923977,"_auto_terminal":1478070061236,"_direction":266},{"_x":115.94984,"_y":28.70034,"_v":128,"_instant_oil":100.39186491934542,"_auto_terminal":1478070091236,"_direction":339},{"_x":115.94844,"_y":28.69504,"_v":129,"_instant_oil":27.141992687319537,"_auto_terminal":1478070121236,"_direction":353},{"_x":115.94771,"_y":28.69119,"_v":130,"_instant_oil":123.85347442926968,"_auto_terminal":1478070151236,"_direction":158},{"_x":115.9476,"_y":28.69034,"_v":131,"_instant_oil":81.208647233,"_auto_terminal":1478070181236,"_direction":2},{"_x":115.9476,"_y":28.68976,"_v":132,"_instant_oil":140.49150702635083,"_auto_terminal":1478070211236,"_direction":36},{"_x":115.94779,"_y":28.68836,"_v":133,"_instant_oil":175.87128979263912,"_auto_terminal":1478070241236,"_direction":279},{"_x":115.94851,"_y":28.68513,"_v":134,"_instant_oil":70.25476747424717,"_auto_terminal":1478070271236,"_direction":287},{"_x":115.94876,"_y":28.68342,"_v":135,"_instant_oil":98.01213665600237,"_auto_terminal":1478070301236,"_direction":225},{"_x":115.94885,"_y":28.68047,"_v":136,"_instant_oil":115.67450899825448,"_auto_terminal":1478070331236,"_direction":42},{"_x":115.94886,"_y":28.67735,"_v":137,"_instant_oil":86.66115746202729,"_auto_terminal":1478070361236,"_direction":5},{"_x":115.94881,"_y":28.6743,"_v":138,"_instant_oil":94.09430285719141,"_auto_terminal":1478070391236,"_direction":320},{"_x":115.94885,"_y":28.6686,"_v":139,"_instant_oil":174.614418171225,"_auto_terminal":1478070421236,"_direction":258},{"_x":115.94892,"_y":28.66671,"_v":140,"_instant_oil":70.35659526953499,"_auto_terminal":1478070451236,"_direction":297},{"_x":115.94907,"_y":28.66534,"_v":141,"_instant_oil":146.6720999299692,"_auto_terminal":1478070481236,"_direction":73},{"_x":115.94922,"_y":28.66448,"_v":142,"_instant_oil":63.24674701893747,"_auto_terminal":1478070511236,"_direction":70},{"_x":115.94949,"_y":28.66375,"_v":143,"_instant_oil":88.71017826681755,"_auto_terminal":1478070541236,"_direction":347},{"_x":115.94996,"_y":28.66296,"_v":144,"_instant_oil":34.85952432880492,"_auto_terminal":1478070571236,"_direction":8},{"_x":115.95079,"_y":28.66198,"_v":145,"_instant_oil":11.941378692798565,"_auto_terminal":1478070601236,"_direction":90},{"_x":115.951,"_y":28.66183,"_v":146,"_instant_oil":99.9409957970634,"_auto_terminal":1478070631236,"_direction":256},{"_x":115.95141,"_y":28.66167,"_v":147,"_instant_oil":179.13477009299078,"_auto_terminal":1478070661236,"_direction":83},{"_x":115.95225,"_y":28.66152,"_v":148,"_instant_oil":67.0893194301597,"_auto_terminal":1478070691236,"_direction":203},{"_x":115.95418,"_y":28.66105,"_v":149,"_instant_oil":61.935307198769564,"_auto_terminal":1478070721236,"_direction":22},{"_x":115.95421,"_y":28.66074,"_v":150,"_instant_oil":27.084605626931335,"_auto_terminal":1478070751236,"_direction":13},{"_x":115.95394,"_y":28.65982,"_v":151,"_instant_oil":74.35706945272536,"_auto_terminal":1478070781236,"_direction":158},{"_x":115.95442,"_y":28.65973,"_v":152,"_instant_oil":109.53243972372478,"_auto_terminal":1478070811236,"_direction":222},{"_x":115.95447,"_y":28.65956,"_v":153,"_instant_oil":62.53907079588292,"_auto_terminal":1478070841236,"_direction":11},{"_x":115.95442,"_y":28.65934,"_v":154,"_instant_oil":15.268835722326868,"_auto_terminal":1478070871236,"_direction":51},{"_x":115.95433,"_y":28.65928,"_v":155,"_instant_oil":103.54997150751757,"_auto_terminal":1478070901236,"_direction":176}]'
		}
		this.setData(data);*/
		//queryTrack({carId: 6, zoom: 11, beginDate: '20161116', endDate: '20161116'}, (data)=> {
		queryTrack(Object.assign({carId: this.props.nav.carId, zoom: 11}, date), (data)=> {
			data && this.setData(data);
			console.info('callback')
		}).then((data) => {
			console.info('success')
			data && this.setData(data);
			}).catch(() => {
				console.info('catch')
			Toast.show('没有行程轨迹', Toast.SHORT);
		}).finally();
	}
	setData(data) {
		data = JSON.parse(data.points);
		this.setState({data: data});
	}
	componentWillUnmount() {
		console.info('out')
		this.props.nav.doBack();
	}
/*	componentDidMount() {
		this.fetchData();
	}*/

	render() {
		return (
			<View style={[estyle.containerBackgroundColor, estyle.fx1]}>
				<TopBanner {...this.props} title="轨迹回放"/>
				<View style={[estyle.fx1]}>
					<MapLine data={this.state.data}/>
				</View>
				<DateButtonGroup {...this.props}  selectTime={(date) => {this.selectTime(date)}}/>
			</View>
		);
	}
}